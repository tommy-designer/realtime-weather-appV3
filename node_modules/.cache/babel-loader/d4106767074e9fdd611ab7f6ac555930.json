{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u9673\\u5A01\\u8C6A/realtime-weather-appV3/realtime-weather-appV3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/\\u9673\\u5A01\\u8C6A/realtime-weather-appV3/realtime-weather-appV3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;// STEP 1：載入 useMemo\nimport React,{useState,useEffect,useMemo}from\"react\";import styled from\"@emotion/styled\";import{ReactComponent as DayThunderstorm}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/day-thunderstorm.svg\";import{ReactComponent as DayClear}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/day-clear.svg\";import{ReactComponent as DayCloudyFog}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/day-cloudy-fog.svg\";import{ReactComponent as DayCloudy}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/day-cloudy.svg\";import{ReactComponent as DayFog}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/day-fog.svg\";import{ReactComponent as DayPartiallyClearWithRain}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/day-partially-clear-with-rain.svg\";import{ReactComponent as DaySnowing}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/day-snowing.svg\";import{ReactComponent as NightThunderstorm}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/night-thunderstorm.svg\";import{ReactComponent as NightClear}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/night-clear.svg\";import{ReactComponent as NightCloudyFog}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/night-cloudy-fog.svg\";import{ReactComponent as NightCloudy}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/night-cloudy.svg\";import{ReactComponent as NightFog}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/night-fog.svg\";import{ReactComponent as NightPartiallyClearWithRain}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/night-partially-clear-with-rain.svg\";import{ReactComponent as NightSnowing}from\"@svgr/webpack?-svgo,+titleProp,+ref!./images/night-snowing.svg\";var weatherTypes={isThunderstorm:[15,16,17,18,21,22,33,34,35,36,41],isClear:[1],isCloudyFog:[25,26,27,28],isCloudy:[2,3,4,5,6,7],isFog:[24],isPartiallyClearWithRain:[8,9,10,11,12,13,14,19,20,29,30,31,32,38,39],isSnowing:[23,37,42]};var weatherIcons={day:{isThunderstorm:/*#__PURE__*/React.createElement(DayThunderstorm,null),isClear:/*#__PURE__*/React.createElement(DayClear,null),isCloudyFog:/*#__PURE__*/React.createElement(DayCloudyFog,null),isCloudy:/*#__PURE__*/React.createElement(DayCloudy,null),isFog:/*#__PURE__*/React.createElement(DayFog,null),isPartiallyClearWithRain:/*#__PURE__*/React.createElement(DayPartiallyClearWithRain,null),isSnowing:/*#__PURE__*/React.createElement(DaySnowing,null)},night:{isThunderstorm:/*#__PURE__*/React.createElement(NightThunderstorm,null),isClear:/*#__PURE__*/React.createElement(NightClear,null),isCloudyFog:/*#__PURE__*/React.createElement(NightCloudyFog,null),isCloudy:/*#__PURE__*/React.createElement(NightCloudy,null),isFog:/*#__PURE__*/React.createElement(NightFog,null),isPartiallyClearWithRain:/*#__PURE__*/React.createElement(NightPartiallyClearWithRain,null),isSnowing:/*#__PURE__*/React.createElement(NightSnowing,null)}};var IconContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  flex-basis: 30%;\\n\\n  svg {\\n    max-height: 110px;\\n  }\\n\"])));var weatherCode2Type=function weatherCode2Type(weatherCode){return Object.entries(weatherTypes).reduce(function(currentWeatherType,_ref){var _ref2=_slicedToArray(_ref,2),weatherType=_ref2[0],weatherCodes=_ref2[1];return weatherCodes.includes(Number(weatherCode))?weatherType:currentWeatherType;},\"\");};var WeatherIcon=function WeatherIcon(_ref3){var currentWeatherCode=_ref3.currentWeatherCode,moment=_ref3.moment;var _useState=useState(\"isClear\"),_useState2=_slicedToArray(_useState,2),currentWeatherIcon=_useState2[0],setCurrentWeatherIcon=_useState2[1];var theWeatherIcon=useMemo(function(){return weatherCode2Type(currentWeatherCode);},[currentWeatherCode]);useEffect(function(){setCurrentWeatherIcon(theWeatherIcon);},[theWeatherIcon]);return/*#__PURE__*/React.createElement(IconContainer,null,weatherIcons[moment][currentWeatherIcon]);};export default WeatherIcon;","map":{"version":3,"sources":["C:/Users/陳威豪/realtime-weather-appV3/realtime-weather-appV3/src/weatherIcon.js"],"names":["React","useState","useEffect","useMemo","styled","weatherTypes","isThunderstorm","isClear","isCloudyFog","isCloudy","isFog","isPartiallyClearWithRain","isSnowing","weatherIcons","day","night","IconContainer","div","weatherCode2Type","weatherCode","Object","entries","reduce","currentWeatherType","weatherType","weatherCodes","includes","Number","WeatherIcon","currentWeatherCode","moment","currentWeatherIcon","setCurrentWeatherIcon","theWeatherIcon"],"mappings":"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","sourcesContent":["// STEP 1：載入 useMemo\r\nimport React, { useState, useEffect, useMemo } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport { ReactComponent as DayThunderstorm } from \"./images/day-thunderstorm.svg\";\r\nimport { ReactComponent as DayClear } from \"./images/day-clear.svg\";\r\nimport { ReactComponent as DayCloudyFog } from \"./images/day-cloudy-fog.svg\";\r\nimport { ReactComponent as DayCloudy } from \"./images/day-cloudy.svg\";\r\nimport { ReactComponent as DayFog } from \"./images/day-fog.svg\";\r\nimport { ReactComponent as DayPartiallyClearWithRain } from \"./images/day-partially-clear-with-rain.svg\";\r\nimport { ReactComponent as DaySnowing } from \"./images/day-snowing.svg\";\r\nimport { ReactComponent as NightThunderstorm } from \"./images/night-thunderstorm.svg\";\r\nimport { ReactComponent as NightClear } from \"./images/night-clear.svg\";\r\nimport { ReactComponent as NightCloudyFog } from \"./images/night-cloudy-fog.svg\";\r\nimport { ReactComponent as NightCloudy } from \"./images/night-cloudy.svg\";\r\nimport { ReactComponent as NightFog } from \"./images/night-fog.svg\";\r\nimport { ReactComponent as NightPartiallyClearWithRain } from \"./images/night-partially-clear-with-rain.svg\";\r\nimport { ReactComponent as NightSnowing } from \"./images/night-snowing.svg\";\r\n\r\nconst weatherTypes = {\r\n  isThunderstorm: [15, 16, 17, 18, 21, 22, 33, 34, 35, 36, 41],\r\n  isClear: [1],\r\n  isCloudyFog: [25, 26, 27, 28],\r\n  isCloudy: [2, 3, 4, 5, 6, 7],\r\n  isFog: [24],\r\n  isPartiallyClearWithRain: [\r\n    8,\r\n    9,\r\n    10,\r\n    11,\r\n    12,\r\n    13,\r\n    14,\r\n    19,\r\n    20,\r\n    29,\r\n    30,\r\n    31,\r\n    32,\r\n    38,\r\n    39\r\n  ],\r\n  isSnowing: [23, 37, 42]\r\n};\r\n\r\nconst weatherIcons = {\r\n  day: {\r\n    isThunderstorm: <DayThunderstorm />,\r\n    isClear: <DayClear />,\r\n    isCloudyFog: <DayCloudyFog />,\r\n    isCloudy: <DayCloudy />,\r\n    isFog: <DayFog />,\r\n    isPartiallyClearWithRain: <DayPartiallyClearWithRain />,\r\n    isSnowing: <DaySnowing />\r\n  },\r\n  night: {\r\n    isThunderstorm: <NightThunderstorm />,\r\n    isClear: <NightClear />,\r\n    isCloudyFog: <NightCloudyFog />,\r\n    isCloudy: <NightCloudy />,\r\n    isFog: <NightFog />,\r\n    isPartiallyClearWithRain: <NightPartiallyClearWithRain />,\r\n    isSnowing: <NightSnowing />\r\n  }\r\n};\r\n\r\nconst IconContainer = styled.div`\r\n  flex-basis: 30%;\r\n\r\n  svg {\r\n    max-height: 110px;\r\n  }\r\n`;\r\n\r\nconst weatherCode2Type = weatherCode =>\r\n  Object.entries(weatherTypes).reduce(\r\n    (currentWeatherType, [weatherType, weatherCodes]) =>\r\n      weatherCodes.includes(Number(weatherCode))\r\n        ? weatherType\r\n        : currentWeatherType,\r\n    \"\"\r\n  );\r\n\r\nconst WeatherIcon = ({ currentWeatherCode, moment }) => {\r\n  const [currentWeatherIcon, setCurrentWeatherIcon] = useState(\"isClear\");\r\n\r\n  const theWeatherIcon = useMemo(() => weatherCode2Type(currentWeatherCode), [\r\n    currentWeatherCode\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setCurrentWeatherIcon(theWeatherIcon);\r\n  }, [theWeatherIcon]);\r\n\r\n  return (\r\n    <IconContainer>{weatherIcons[moment][currentWeatherIcon]}</IconContainer>\r\n  );\r\n};\r\n\r\nexport default WeatherIcon;\r\n"]},"metadata":{},"sourceType":"module"}